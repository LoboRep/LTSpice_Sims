import{_ as y}from"./preload-helper-87151e19.mjs";import{u}from"./useWindowDimensions-9d7c55cb.mjs";import{L as v}from"./WebPageContent-8cf5c859.mjs";import{_ as b,I as w,b0 as x,l as s,m as c,x as l,F as m,D as g,E as h,C as _,z as f,B as k,A as B,J as I}from"./_plugin-vue_export-helper-15c97ded.mjs";import"./app.config-2d714cad.mjs";import"./index-e5521a99.mjs";import"./state-171775be.mjs";import"./cookie-ba326bc4.mjs";import"./AdminPageTitle-59a2224c.mjs";import"./IconElement-b96dcc23.mjs";import"./client-only-91773298.mjs";import"./runtime-dom.esm-bundler-f8204f67.mjs";import"./useAdminStyles-191b9c4f.mjs";import"./useCmsUser-0ed98f87.mjs";import"./useAdUnitPatterns-f87d2d88.mjs";import"./GAMController-32f716ac.mjs";import"./useContainerPixelWidth-7c0e786a.mjs";import"./WebButtonElement-69a134e8.mjs";import"./composables-7a63e89a.mjs";import"./useSiteUser-3754f9ab.mjs";import"./useToast-49717dcc.mjs";import"./_commonjsHelpers-87174ba5.mjs";import"./vue.runtime.esm-bundler-bae60989.mjs";import"./vue-router-216c064a.mjs";import"./useSupportedContentTypes-e7642151.mjs";import"./content_types-44470a40.mjs";import"./useUUID-f02a73c2.mjs";const A=I(()=>y(()=>import("./WebBlock-57358fac.mjs"),["./WebBlock-57358fac.mjs","./preload-helper-87151e19.mjs","./runtime-dom.esm-bundler-f8204f67.mjs","./_plugin-vue_export-helper-15c97ded.mjs","./useContainerPixelWidth-7c0e786a.mjs","./useWindowDimensions-9d7c55cb.mjs","./app.config-2d714cad.mjs","./index-e5521a99.mjs","./state-171775be.mjs","./cookie-ba326bc4.mjs","./useObjUtils-f4b303a5.mjs","./useTenantKey-2ab82870.mjs","./useSiteUser-3754f9ab.mjs","./useToast-49717dcc.mjs","./useToast.485f31da.css","./_commonjsHelpers-87174ba5.mjs","./vue.runtime.esm-bundler-bae60989.mjs","./vue-router-216c064a.mjs","./WebBlock.9b459df8.css"],import.meta.url).then(e=>e.default||e)),C={components:{LazyHydrationWrapper:v},props:{column:{type:Object},columnIndex:{type:Number},groupBlocks:{type:Boolean,default:!1}},setup(e){w("columnIndex",e.columnIndex)},data(){return{stickyActive:!1}},computed:{headerHeight(){return u().value.headerHeight},percentOfContentArea(){return this.column.width},columnInfo(){return{...this.column,settings:this.column.settings?this.column.settings:{}}},standardBlocks(){const e=[];let t=!0;return this.columnInfo.blocks.forEach(r=>{!r.settings.keepInView&&t?e.push(r):t=!1}),JSON.parse(JSON.stringify(e))},stickyBlocks(){const e=[];let t=!1;return this.columnInfo.blocks.forEach(r=>{(r.settings.keepInView||t)&&(t=!0,e.push(r))}),JSON.parse(JSON.stringify(e))}},unmounted(){window.removeEventListener("scroll",this.handleScroll)},mounted(){window.addEventListener("scroll",this.handleScroll)},methods:{shouldTriggerHydration(e){var t;return(e==null?void 0:e.type)==="gam_ad"||((t=e.settings)==null?void 0:t.nativeXAdSlotIndex)>0},handleScroll(){this.$refs.sticky.getBoundingClientRect().top-u().value.headerHeight<=0?this.stickyActive=!0:this.stickyActive=!1}}},H={class:"standard-blocks"};function L(e,t,r,z,a,o){const p=A,d=x("LazyHydrationWrapper");return s(),c("div",{class:f([`column-${r.columnIndex+1}`,"column","block-align-"+(o.columnInfo.settings.blockAlignment?o.columnInfo.settings.blockAlignment:"top")])},[l("div",H,[(s(!0),c(m,null,g(o.standardBlocks,(n,i)=>(s(),h(d,{key:n.id,"when-visible":"","when-triggered":o.shouldTriggerHydration(n)},{default:_(()=>[l("div",{class:f(["block-wrapper",n.settings.trackingId])},[k(p,{block:n,"block-index":i,"percent-of-content-area":o.percentOfContentArea,"group-blocks":r.groupBlocks},null,8,["block","block-index","percent-of-content-area","group-blocks"])],2)]),_:2},1032,["when-triggered"]))),128))]),l("div",{ref:"sticky",class:"sticky-blocks",style:B({position:a.stickyActive?"sticky":"relative",top:a.stickyActive?o.headerHeight+"px":0})},[(s(!0),c(m,null,g(o.stickyBlocks,(n,i)=>(s(),h(d,{key:n.id,class:"block-wrapper","when-visible":"","when-triggered":o.shouldTriggerHydration(n)},{default:_(()=>[k(p,{block:n,"block-index":i,"percent-of-content-area":o.percentOfContentArea,"group-blocks":r.groupBlocks},null,8,["block","block-index","percent-of-content-area","group-blocks"])]),_:2},1032,["when-triggered"]))),128))],4)],2)}const ne=b(C,[["render",L],["__scopeId","data-v-143bb0c9"]]);export{ne as default};
